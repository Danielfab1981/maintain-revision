name: 'Maintain Revision'
description: 'Keep a remote development version number up to date for a project'
author: 'Antti Kivi'
inputs:
  type:
    description: 'The type of the file that contains the version of the project, possible values are json and txt'
    required: true
    default: 'json'
  file:
    description: 'Relative path to the file that contains the version of the project'
    required: false
  bucket:
    description: 'The AWS S3 bucket where the remove development version is held'
    required: true
    default: 'anthem-workflows'
  path:
    description: 'Path to the directory where the version file is'
    required: false
outputs:
  version:
    description: 'The full version number of the current build'
runs:
  using: 'node12'
  main: 'dist/index.js'
  post: 'dist/index.js'
  post-if: 'success()'
branding:
  icon: 'tag'
  color: 'blue'
